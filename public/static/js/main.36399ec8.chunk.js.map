{"version":3,"sources":["config.js","components/auth/Login.js","components/auth/SignUp.js","components/auth/SignUpRandom.js","components/auth/FacebookButton.js","components/auth/GoogleButton.js","components/NavBar.js","components/recipes/AllRecipes.js","components/recipes/RecipeDetails.js","components/profile/Timeline.js","components/recipes/AddForm.js","components/recipes/EditForm.js","components/chat/ChatPage.js","components/profile/Profile.js","components/chat/UserList.js","components/home/Home.js","components/profile/FriendsList.js","components/profile/MyRecipes.js","components/Lottie/LottieControl.js","components/Lottie/NotFound.js","App.js","index.js"],"names":["process","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","Login","props","onLogIn","onError","classes","Container","component","maxWidth","CssBaseline","className","Avatar","Typography","variant","onSubmit","TextField","autoComplete","name","required","fullWidth","id","label","autoFocus","Button","type","color","error","SignUp","noValidate","for","value","htmlFor","accept","root","SignUpRandom","onHandleFriend","randomUser","friend","onHandleRecipe","recipe","randomRecipe","to","src","class","onClick","username","FacebookButton","facebook","appId","autoLoad","fields","callback","GoogleButton","onSuccess","onFailure","clientId","buttonText","cookiePolicy","TabPanel","children","index","other","role","hidden","aria-labelledby","Box","p","a11yProps","drawerWidth","background","flexGrow","menuButton","marginRight","modal","justifyContent","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","easeOut","enteringScreen","title","hide","drawer","flexShrink","drawerPaper","drawerHeader","padding","mixins","toolbar","content","contentShift","border","boxShadow","shadows","NavBar","useTheme","user","onLogout","onSignUp","onGoogleSuccess","onGoogleFailure","React","useState","open","setOpen","sideOpen","updateSideOpen","setValue","handleOpen","handleDrawerOpen","console","log","position","Toolbar","style","IconButton","aria-label","edge","clsx","Modal","aria-describedby","onClose","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","AppBar","Tabs","onChange","event","newValue","indicatorColor","textColor","Tab","axis","direction","onChangeIndex","dir","Drawer","anchor","Divider","List","ListItem","button","ListItemIcon","People","ListItemText","primary","FastfoodSharp","Settings","icon","Home","Person","LockOpen","Lock","AllRecipes","recipes","map","_id","vegetarian","maxHeight","height","alt","picture","description","RecipeDetails","updateRecipe","fetching","updateFetching","onDelete","updateUser","userRecipes","redirection","updateRedirection","updateUserRecipes","useEffect","recipeId","match","params","axios","get","config","withCredentials","then","response","data","catch","random","Math","floor","length","recId","history","push","Card","includes","post","CardHeader","subheader","CardMedia","paddingTop","image","difficulty","category","country","cookingTime","ingredients","ingredient","i","instructions","url","youtube","created_by","default","Timeline","posts","updatePosts","recipesArr","eachRecipe","reverse","e","preventDefault","target","imageUrl","files","formData","FormData","append","result","err","multiple","rows","multiline","PhotoCamera","selected","rec","paragraph","myFriends","singleFriend","AddForm","onRadio","placeholder","InputProps","inputProps","min","FormControl","InputLabel","Select","native","FormLabel","RadioGroup","row","defaultValue","FormControlLabel","control","Radio","labelPlacement","EditForm","onEdit","trueFalse","fontSize","text","cloneRecipe","JSON","parse","stringify","onType","socket","ChatPage","messagesEnd","createRef","state","loading","messageList","currentMessage","scrollToBottom","scrollIntoView","behavior","handleMessageInput","setState","sendMessage","a","messageContent","chatId","sender","message","emit","io","conversationId","this","on","val","float","clear","ref","el","Component","Profile","updateMyFriends","firstName","lastName","email","UserList","handleChatClick","chatUserId","participants","prevProps","users","onAddaFriend","newFriend","allUsers","filter","u","singleUser","handleDelete","FriendsList","friends","AccountCircleOutlined","usertype","singleRecipe","MyRecipes","res","flexWrap","LottieControl","defaultOptions","loop","autoplay","animationData","animation","rendererSettings","preserveAspectRatio","options","NotFound","withRouter","updateError","updateRecipes","updateFriend","updateRandomRecipe","updateRandomUser","updateIngredients","updateTrueFalse","updateAllUsers","updateUsers","updateShowLoading","fetchUsers","handleRandom","handleAddAFriend","handleAddAnotherFriend","updatedUser","handleAddMyRecipe","ingredientArr","handleRadio","currentTarget","handleAddRecipe","Number","handleOnChange","input","split","handleUpdate","patch","newRecipes","delete","filteredRecipes","errorObj","password","newUser","errObj","facebookId","userID","profileObj","givenName","familyName","googleId","exact","path","render","routeProps","sredirection","ReactDOM","StrictMode","Fragment","document","getElementById"],"mappings":"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","file":"static/js/main.36399ec8.chunk.js","sourcesContent":["// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default {\r\n\tAPI_URL: process.env.REACT_APP_SERVER_URL\r\n}","import React from \"react\";\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright Â© '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n//LOGIN COMES FROM NAVBAR.JS AND THE HANDLE IS IN APP.JS\r\nfunction Login(props) {\r\n  const { onLogIn, onError } = props;\r\n  const classes = useStyles();\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n    <CssBaseline />\r\n    <div className={classes.paper}>\r\n    <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n         Log in\r\n        </Typography>\r\n    <form onSubmit={onLogIn}>\r\n      <div className=\"divForm signUpContainer\" >\r\n      <TextField\r\n                autoComplete=\"email\"\r\n                name=\"email\"\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Enter Email\"\r\n                autoFocus\r\n              />\r\n      </div>\r\n      <div className=\"form-group signUpContainer\">\r\n      <TextField\r\n                autoComplete=\"password\"\r\n                name=\"password\"\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"password\"\r\n                label=\"Enter Password\"\r\n                autoFocus\r\n              />\r\n      </div>\r\n      <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n           Submit\r\n          </Button>\r\n      {onError && <p>{onError.error}</p>}\r\n    </form>\r\n    </div>\r\n\r\n    </Container>\r\n    \r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright Â© '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n//SIGNUP COMES FROM NAVBAR.JS AND THE HANDLE IS IN APP.JS\r\nfunction SignUp(props) {\r\n  const { onSubmit } = props;\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n    <CssBaseline />\r\n    <div className={classes.paper}>\r\n    <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign up\r\n        </Typography>\r\n <form onSubmit={onSubmit} className={classes.form} noValidate>\r\n <div className=\"form-group signUpContainer\">\r\n      <TextField\r\n                autoComplete=\"username\"\r\n                name=\"username\"\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"username\"\r\n                label=\"Enter Username\"\r\n                autoFocus\r\n              />\r\n      </div>\r\n      <div className=\"form-group signUpContainer\">\r\n      <TextField\r\n                autoComplete=\"email\"\r\n                name=\"email\"\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Enter Email\"\r\n                autoFocus\r\n              />\r\n        <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n          We'll never share your email with anyone else.\r\n        </small>\r\n      </div>\r\n      <div className=\"form-group signUpContainer\">\r\n      <TextField\r\n                autoComplete=\"password\"\r\n                name=\"password\"\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                type=\"password\"\r\n                id=\"password\"\r\n                label=\"Enter Password\"\r\n                autoFocus\r\n              />\r\n      </div>\r\n      <div className=\"form-group signUpContainer\">\r\n      <TextField\r\n                autoComplete=\"firstName\"\r\n                name=\"firstName\"\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"firstName\"\r\n                label=\"Enter your first name\"\r\n                autoFocus\r\n              />\r\n      </div>\r\n      <div className=\"form-group signUpContainer\">\r\n      <TextField\r\n                autoComplete=\"lastName\"\r\n                name=\"lastName\"\r\n                variant=\"outlined\"\r\n                required\r\n                fullWidth\r\n                id=\"lastName\"\r\n                label=\"Enter your last name\"\r\n                autoFocus\r\n              />\r\n      </div>\r\n      <div className=\"form-group signUpContainer\">\r\n        <label for=\"freeUser\">Simple User</label>\r\n        <input type=\"radio\" name=\"usertype\" value=\"freeUser\" />\r\n        <label for=\"premiumUser\">Premium User</label>\r\n        <input type=\"radio\" name=\"usertype\" value=\"premiumUser\" />\r\n      </div>\r\n      <div className=\"form-group signUpContainer\">\r\n        <label htmlFor=\"inputPicture\">Picture</label>\r\n        <input name=\"imageUrl\" accept=\"image/png, image/jpeg\"\r\n          id=\"icon-button-file\" type=\"file\" />\r\n      </div>\r\n      <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n           Submit\r\n          </Button>\r\n      \r\n    </form>\r\n    </div>\r\n    </Container>\r\n   \r\n  );\r\n}\r\n\r\nexport default SignUp;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& > *\": {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n}));\r\n\r\n//SIGNUP RANDOM COMES FROM THE ROUTE IN APP.JS\r\nfunction SignUpRandom(props) {\r\n  const {\r\n    onHandleFriend,\r\n    randomUser,\r\n    friend,\r\n    onHandleRecipe,\r\n    recipe,\r\n    randomRecipe,\r\n  } = props;\r\n\r\n  const classes = useStyles();\r\n  return (\r\n    <div>\r\n      <div>\r\n        <div>\r\n          <Link to=\"/\">\r\n            <img src=\"/logo-without-background.png\" class=\"logo\"></img>\r\n          </Link>\r\n        </div>\r\n        <div className=\"randomSign\">\r\n          {!recipe ? (\r\n            <div>\r\n              <h3 className=\"signupElement\">{randomRecipe.name}</h3>\r\n              <Button variant=\"contained\" onClick={onHandleRecipe}>\r\n                Add {randomRecipe.name} to your profile\r\n              </Button>\r\n            </div>\r\n          ) : (\r\n            <p>You added {randomRecipe.name} to your profile</p>\r\n          )}\r\n\r\n          {!friend ? (\r\n            <div>\r\n              <h3 className=\"signupElement\">{randomUser.username}</h3>\r\n              <Button variant=\"contained\" onClick={onHandleFriend}>\r\n                Add {randomUser.username} as a friend\r\n              </Button>\r\n            </div>\r\n          ) : (\r\n            <p>You added {randomUser.username} as a new friend</p>\r\n          )}\r\n          <div className=\"buttonProfile\">\r\n            <Button variant=\"contained\" color=\"primary\">\r\n              <Link to=\"/timeline\">Discover your timeline</Link>\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignUpRandom;\r\n","import React from 'react'\r\nimport FacebookLogin from 'react-facebook-login';\r\n\r\n\r\nfunction FacebookButton(props) {\r\n\r\n    const {facebook} = props\r\n\r\n    return (\r\n        <div className=\"facebook\">\r\n           <FacebookLogin\r\n                appId=\"377377326935192\"\r\n                autoLoad={false}\r\n                fields=\"name,email,picture\"\r\n                callback={facebook} \r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FacebookButton","import React from 'react'\r\nimport GoogleLogin from 'react-google-login';\r\n\r\nfunction GoogleButton(props) {\r\n    const {onSuccess, onFailure} = props\r\n   \r\n    return (\r\n        <div className=\"google\">\r\n            <GoogleLogin\r\n                clientId=\"539941157350-la09qnjcelcmisvdjra8kf98q2mqdec9.apps.googleusercontent.com\"\r\n                buttonText=\"Login\"\r\n                onSuccess={onSuccess}\r\n                onFailure={onFailure}\r\n                cookiePolicy={'single_host_origin'}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GoogleButton","import { AppBar, Button, Divider, Drawer, IconButton, List, ListItem, ListItemIcon, ListItemText, Toolbar } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SignUp from \"../components/auth/SignUp\";\r\nimport Login from \"./auth/Login\";\r\nimport PropTypes from \"prop-types\";\r\nimport SwipeableViews from \"react-swipeable-views\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport { Tab, Tabs, Fade } from '@material-ui/core'\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport FacebookButton from \"./auth/FacebookButton\";\r\nimport GoogleButton from \"./auth/GoogleButton\";\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport clsx from 'clsx';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport { FastfoodSharp, Home, Lock, LockOpen, People, Person, Settings } from '@material-ui/icons'\r\nimport Users from \"./profile/Users\";\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`full-width-tabpanel-${index}`}\r\n      aria-labelledby={`full-width-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box p={3}>\r\n          <Typography>{children}</Typography>\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.any.isRequired,\r\n  value: PropTypes.any.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `full-width-tab-${index}`,\r\n    \"aria-controls\": `full-width-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\r\n  root: {\r\n    display: 'flex',\r\n    backgroundColor: theme.palette.background.paper,\r\n    width: 500,\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n\r\n  modal: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  appBar: {\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    marginLeft: drawerWidth,\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  hide: {\r\n    display: 'none',\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n  },\r\n  drawerHeader: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    padding: theme.spacing(0, 1),\r\n    // necessary for content to be below app bar\r\n    ...theme.mixins.toolbar,\r\n    justifyContent: 'flex-end',\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n    transition: theme.transitions.create('margin', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    marginLeft: -drawerWidth,\r\n  },\r\n  contentShift: {\r\n    transition: theme.transitions.create('margin', {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    marginLeft: 0,\r\n  },\r\n  paper: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: \"2px solid #000\",\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n  },\r\n}));\r\n\r\n//NAVBAR COMES FROM APP.JS\r\nfunction NavBar(props) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const { user, onLogout, onSignUp, error, onLogIn, facebook, onGoogleSuccess, onGoogleFailure } = props;\r\n  const [open, setOpen] = React.useState(false);\r\n  const [sideOpen, updateSideOpen] = React.useState(false);\r\n  const [value, setValue] = React.useState(0);\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n  const handleChangeIndex = (index) => {\r\n    setValue(index);\r\n  };\r\n  const handleDrawerOpen = () => {\r\n    updateSideOpen(true);\r\n  };\r\n  const handleDrawerClose = () => {\r\n    updateSideOpen(false);\r\n  };\r\n  console.log(\"inside NavBar\", user)\r\n  return (\r\n    <div>\r\n      <nav position=\"static\" className='nav' >\r\n\r\n        <Toolbar style={{ flexDirection: \"row\" }}>\r\n          {\r\n            user ? <IconButton\r\n              color=\"inherit\" aria-label=\"open drawer\" onClick={handleDrawerOpen} edge=\"start\" className={clsx(classes.menuButton, open && classes.hide)}>\r\n              <MenuIcon /></IconButton> : null\r\n          }\r\n          <IconButton\r\n            edge=\"start\"\r\n            className={classes.menuButton}\r\n            color=\"inherit\"\r\n            aria-label=\"menu\"\r\n          >\r\n            <Button color=\"inherit\">\r\n              {\" \"}\r\n              <Link to=\"/recipes\">Recipes</Link>{\" \"}\r\n            </Button>{\" \"}\r\n          </IconButton>\r\n          {user ? (\r\n            <div>\r\n              <IconButton\r\n                edge=\"start\"\r\n                className={classes.menuButton}\r\n                color=\"inherit\"\r\n                aria-label=\"menu\"\r\n              >\r\n                <Button color=\"inherit\">\r\n                  {\" \"}\r\n                  <Link to=\"/add-a-recipe\">Add recipe</Link>\r\n                </Button>\r\n              </IconButton>\r\n              <IconButton\r\n                edge=\"start\"\r\n                className={classes.menuButton}\r\n                color=\"inherit\"\r\n                aria-label=\"menu\"\r\n              >\r\n                <Button color=\"inherit\">\r\n                  {\" \"}\r\n                  <Link to=\"/userList\">Check all users</Link>\r\n                </Button>\r\n              </IconButton>\r\n              <IconButton\r\n                edge=\"start\"\r\n                className={classes.menuButton}\r\n                color=\"inherit\"\r\n              >\r\n                <Button>\r\n                  {\" \"}\r\n                  <Link to={\"/timeline\"}>Timeline</Link>{\" \"}\r\n                </Button>\r\n              </IconButton>\r\n              <IconButton\r\n                edge=\"start\"\r\n                className={classes.menuButton}\r\n                color=\"inherit\"\r\n              >\r\n                <Button>\r\n                  <Link to={`/profile/${user.username}`}>Profile</Link>\r\n                </Button>\r\n              </IconButton>\r\n              <IconButton\r\n                edge=\"end\"\r\n                className={classes.menuButton}\r\n                color=\"inherit\">\r\n                <Button><Link onClick={onLogout}>Log out</Link></Button>\r\n              </IconButton>\r\n\r\n            </div>\r\n          ) : (\r\n            <span>\r\n              <Button type=\"button\" onClick={handleOpen}>\r\n                Login or Sign Up\r\n              </Button>\r\n              <Modal\r\n                aria-labelledby=\"transition-modal-title\"\r\n                aria-describedby=\"transition-modal-description\"\r\n                className={classes.modal}\r\n                open={open}\r\n                onClose={handleClose}\r\n                closeAfterTransition\r\n                BackdropComponent={Backdrop}\r\n                BackdropProps={{\r\n                  timeout: 500,\r\n                }}\r\n              >\r\n                <Fade in={open}>\r\n                  <div className={`${classes.paper} post`}>\r\n                    <AppBar position=\"static\" color=\"default\">\r\n                      <Tabs\r\n                        value={value}\r\n                        onChange={handleChange}\r\n                        indicatorColor=\"primary\"\r\n                        textColor=\"primary\"\r\n                        variant=\"fullWidth\"\r\n                        aria-label=\"full width tabs example\"\r\n                      >\r\n                        <Tab label=\"Sign Up\" {...a11yProps(0)} />\r\n                        <Tab label=\"Log In\" {...a11yProps(1)} />\r\n                        {/* <Tab label=\"Sign Up with Facebook\" {...a11yProps(2)} />\r\n                        <Tab label=\"Sign Up with Google\" {...a11yProps(3)} /> */}\r\n                      </Tabs>\r\n                    </AppBar>\r\n                    <SwipeableViews\r\n                      axis={theme.direction === \"rtl\" ? \"x-reverse\" : \"x\"}\r\n                      index={value}\r\n                      onChangeIndex={handleChangeIndex}\r\n                    >\r\n                      <TabPanel value={value} index={0} dir={theme.direction}>\r\n                        <SignUp onSubmit={onSignUp} />\r\n                        <div className=\"authThird\">\r\n                        <FacebookButton facebook={facebook} />\r\n                        <GoogleButton onSuccess={onGoogleSuccess} onFailure={onGoogleFailure}/>\r\n                        </div>\r\n                      </TabPanel>\r\n                      <TabPanel value={value} index={1} dir={theme.direction}>\r\n                        <Login error={error} onLogIn={onLogIn} />\r\n                      </TabPanel>\r\n                    </SwipeableViews>\r\n                  </div>\r\n                </Fade>\r\n              </Modal>\r\n            </span>\r\n          )}\r\n        </Toolbar>\r\n      </nav>\r\n      <Drawer style={{ background: ' #6985c0' }}\r\n        className={classes.drawer}\r\n        variant=\"persistent\"\r\n        anchor=\"left\"\r\n        open={sideOpen}\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n      >\r\n        <div className={classes.drawerHeader}>\r\n          <IconButton onClick={handleDrawerClose}>\r\n            {theme.direction === 'ltr' ? <ChevronLeftIcon /> : <ChevronRightIcon />}\r\n          </IconButton>\r\n        </div>\r\n        <Divider />\r\n        {user ? (<List>\r\n          <Link to={`/profile/${user.username}/friends`} >\r\n            <ListItem button >\r\n              <ListItemIcon>  <People />  </ListItemIcon>\r\n              <ListItemText primary='Friends' />\r\n            </ListItem>\r\n          </Link>\r\n          <Divider />\r\n          <Link to={`/profile/${user.username}/recipes`} >\r\n            <ListItem button >\r\n              <ListItemIcon>  <FastfoodSharp />  </ListItemIcon>\r\n              <ListItemText primary='Recipes' />\r\n            </ListItem>\r\n          </Link>\r\n          <Divider />\r\n          <Link to={`/profile/${user.username}/settings`} >\r\n            <ListItem button >\r\n              <ListItemIcon> <Settings />  </ListItemIcon>\r\n              <ListItemText primary='Settings' />\r\n            </ListItem>\r\n          </Link>\r\n        </List>) : (<Link to={`/`} />)}\r\n      </Drawer>\r\n      <div className='phone'>\r\n\r\n\r\n        {user ? (<span className='phone'>\r\n          <IconButton\r\n            color=\"inherit\" aria-label=\"open drawer\" onClick={handleDrawerOpen} edge=\"start\" className={clsx(classes.menuButton, open && classes.hide)}>\r\n            <MenuIcon /></IconButton>\r\n          <Link to=\"/recipes\"> <Tab icon={<FastfoodSharp />} label=\"Recipes\" /></Link>\r\n          <Link to={\"/timeline\"}><Tab icon={<Home />} label=\"Home\" /></Link>\r\n          <Link to={`/profile/${user.username}`}> <Tab icon={<Person />} label=\"Profile\" /></Link>\r\n          <Link to=\"/userList\"><Tab icon={<People />} label=\"Users\" /></Link>\r\n          <Tab icon={<LockOpen />} onClick={onLogout} label=\"Logout\" /></span>) : (\r\n          <span>\r\n            <Link to=\"/recipes\"><Tab icon={<FastfoodSharp />} label=\"Recipes\" /></Link>\r\n            <Tab icon={<Lock />} onClick={handleOpen} label=\"Log In\" />\r\n          </span>)\r\n        }\r\n      </div>\r\n    </div >\r\n  );\r\n}\r\nexport default NavBar;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport EcoTwoToneIcon from \"@material-ui/icons/EcoTwoTone\";\r\nimport { ToastContainer } from \"react-toastify\";\r\n\r\n//ALLRECIPES COMES FROM A LINK IN APP.JS AND A ROUTE IN APP.JS\r\nfunction AllRecipes(props) {\r\n  const { recipes, user } = props;\r\n  // let random = Math.floor(Math.random() * props.recipes.length);\r\n  // // let recipeId = recipes[random].params.id\r\n  // let recipeId = recipes[random]._id;\r\n\r\n  return (\r\n    <div>\r\n    <Link to='/'><img src=\"/logo-without-background.png\" class=\"logo\"></img></Link>\r\n      <section className=\"allRecipes\">\r\n        {recipes.map((recipe) => {\r\n          return (\r\n            <div className=\"recipeCard\">\r\n              <div>\r\n                {user ? (\r\n                  <Link key={recipe._id} to={`/recipe-details/${recipe._id}`}>\r\n                    <h3>\r\n                      {recipe.vegetarian && (\r\n                        <span>\r\n                          <EcoTwoToneIcon style={{ color: \"green\" }} />\r\n                        </span>\r\n                      )}\r\n                      {recipe.name}\r\n                    </h3>\r\n                    <img\r\n                      style={{\r\n                        maxWidth: \"260px\",\r\n                        maxHeight: \"260px\",\r\n                        height: \"100%\",\r\n                      }}\r\n                      alt={recipe.name}\r\n                      src={recipe.picture}\r\n                    />\r\n                  </Link>\r\n                ) : (\r\n                  <Link to=\"/\">\r\n                    <h3>\r\n                      {recipe.vegetarian && (\r\n                        <span>\r\n                          <EcoTwoToneIcon style={{ color: \"green\" }} />\r\n                        </span>\r\n                      )}\r\n                      {recipe.name}\r\n                    </h3>\r\n                    <img\r\n                      style={{\r\n                        maxWidth: \"260px\",\r\n                        maxHeight: \"260px\",\r\n                        height: \"100%\",\r\n                      }}\r\n                      alt={recipe.name}\r\n                      src={recipe.picture}\r\n                    />\r\n                  </Link>\r\n                )}\r\n\r\n                <p>{recipe.description}</p>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AllRecipes;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport config from \"../../config\";\r\nimport { Card, CardHeader, CardMedia } from \"@material-ui/core\";\r\nimport ReactPlayer from \"react-player\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n}));\r\n//RECIPE DETAILS COMES FROM A LINK IN ALLRECIPES.JS AND A ROUTE IN APP.JS\r\nfunction RecipeDetails(props) {\r\n  const [recipe, updateRecipe] = useState(null);\r\n  const [fetching, updateFetching] = useState(true);\r\n  const {\r\n    recipes,\r\n    onDelete,\r\n    user,\r\n    updateUser,\r\n    redirection,\r\n    updateRedirection,\r\n    userRecipes,\r\n    updateUserRecipes,\r\n  } = props;\r\n\r\n  /*let newRecipe = [];\r\n  user.recipe.map((singleRecipe) => {\r\n    newRecipe.push(singleRecipe);\r\n  });*/\r\n\r\n  console.log(userRecipes);\r\n\r\n  useEffect(() => {\r\n    let recipeId = props.match.params.recipeId;\r\n    if (recipeId) {\r\n      axios\r\n        .get(`${config.API_URL}/api/recipe/${recipeId}`, {\r\n          withCredentials: true,\r\n        })\r\n        .then((response) => {\r\n          updateRecipe(response.data);\r\n          updateFetching(false);\r\n        })\r\n        .catch(() => {\r\n          console.log(\"Detail fecth failed\");\r\n        });\r\n    } else {\r\n      let random = Math.floor(Math.random() * props.recipes.length);\r\n      let recId = recipes[random]._id;\r\n      axios\r\n        .get(`${config.API_URL}/api/recipe/${recId}`, { withCredentials: true })\r\n        .then((response) => {\r\n          console.log(response);\r\n          updateRecipe(response.data);\r\n          updateFetching(false);\r\n        })\r\n        .catch(() => {\r\n          console.log(\"Detail fecth failed1\");\r\n        });\r\n    }\r\n  }, [props.match.params.recipeId]);\r\n\r\n  if (!user) {\r\n    props.history.push(\"/\");\r\n  }\r\n\r\n  // const { onDelete, user } = props\r\n  if (fetching) {\r\n    return <p>Loading ...</p>;\r\n  }\r\n\r\n  const handleAddRecipeToList = () => {\r\n    let id = props.match.params.recipeId;\r\n\r\n    console.log(\"props\", props.match);\r\n    console.log(\"id\", id);\r\n    console.log(\"recipeId\", props.match.params.recipeId);\r\n    axios\r\n      .post(`${config.API_URL}/api/recipe/${id}`, {}, { withCredentials: true })\r\n      .then((response) => {\r\n        console.log(\"handle add recipe\", response.data);\r\n        updateUser(response.data);\r\n        updateUserRecipes(response.data.recipe);\r\n      })\r\n      .catch(() => {});\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Link to=\"/\">\r\n        <img src=\"/logo-without-background.png\" class=\"logo\"></img>\r\n      </Link>\r\n      <div className=\"container\">\r\n        <Card\r\n          style={{\r\n            maxWidth: 700,\r\n          }}\r\n        >\r\n          {userRecipes.includes(recipe._id) ? (\r\n            <p>You already have this recipe in your list</p>\r\n          ) : (\r\n            <Button variant=\"contained\" color=\"primary\" onClick={handleAddRecipeToList}>\r\n              Add this recipe to my Recipes\r\n            </Button>\r\n          )}\r\n          <Link to={`/edit-a-recipe/${recipe._id}`}>\r\n            <Button variant=\"contained\">Edit</Button>\r\n          </Link>\r\n          <Button variant=\"contained\" color=\"secondary\"\r\n            onClick={() => {\r\n              onDelete(recipe._id);\r\n            }}\r\n          >\r\n            Delete\r\n          </Button>\r\n          <CardHeader\r\n            title={recipe.name}\r\n            subheader={recipe.vegetarian && <b>Vegetarian</b>}\r\n          />\r\n          <CardMedia\r\n            style={{\r\n              height: \"0\",\r\n              paddingTop: \"56.25%\",\r\n            }}\r\n            image={recipe.picture}\r\n            title={recipe.name}\r\n          />\r\n          <div className=\"recipeDetails\">\r\n            <h3>Description</h3>{\" \"}\r\n            <p className=\"recipeDescription\">{recipe.description}</p>\r\n          </div>{\" \"}\r\n          <div className=\"recipeHeader\">\r\n            <div className=\"recipeInfos\">\r\n              <h3>Difficulty</h3>\r\n              <i className=\"recipeDescription\"> {recipe.difficulty}</i>\r\n            </div>\r\n            <div className=\"recipeInfos\">\r\n              <h3>Category</h3>\r\n              <i className=\"recipeDescription\">{recipe.category}</i>\r\n            </div>\r\n            <div className=\"recipeInfos\">\r\n              {\" \"}\r\n              <h3>Country </h3>{\" \"}\r\n              <i className=\"recipeDescription\">{recipe.country}</i>\r\n            </div>\r\n            <div className=\"recipeInfos\">\r\n              {\" \"}\r\n              <h3>Cooking Time</h3>{\" \"}\r\n              <i className=\"recipeDescription\"> {recipe.cookingTime}min</i>\r\n            </div>\r\n          </div>\r\n          <br></br>\r\n          <div className=\"recipeDetails\">\r\n            <h3>Ingredients:</h3>\r\n            {recipe?.ingredients.map((ingredient, i) => {\r\n              return (\r\n                <ul key={i} className=\"recipeList\">\r\n                  <li>{ingredient}</li>\r\n                </ul>\r\n              );\r\n            })}{\" \"}\r\n          </div>\r\n          <div className=\"recipeDetails\">\r\n            {\" \"}\r\n            <h3>Instructions:</h3>{\" \"}\r\n            <p className=\"recipeDescription\">{recipe.instructions}</p>\r\n          </div>\r\n          <div className=\"video\">\r\n            <ReactPlayer url={recipe.youtube} />\r\n          </div>\r\n          <div>\r\n            {\" \"}\r\n            {recipe.created_by && (\r\n              <p>\r\n                {\" \"}\r\n                <b>Created By:</b> {recipe.created_by.username}\r\n              </p>\r\n            )}\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RecipeDetails;\r\n","import { Avatar, Button, CssBaseline, Divider, Drawer, Fab, IconButton, List, makeStyles, TextField, Toolbar, Typography } from \"@material-ui/core\";\r\nimport { PhotoCamera } from \"@material-ui/icons\";\r\nimport axios from \"axios\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport config from \"../../config\";\r\n\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  appBar: {\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    marginRight: drawerWidth,\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n  },\r\n  // necessary for content to be below app bar\r\n  toolbar: theme.mixins.toolbar,\r\n  content: {\r\n    flexGrow: 1,\r\n    backgroundColor: theme.palette.background.default,\r\n    padding: theme.spacing(3),\r\n  },\r\n}));\r\n\r\n\r\n//TIMELINE COMES FROM THE ROUTE IN APP.JS AND THE LINK AFTER SIGNUP IS IN SIGNUPRANDOM.JS // AFTER LOGIN ITS A REDIRECTION IN APP.JS\r\nfunction Timeline(props) {\r\n  const classes = useStyles();\r\n  const { recipes,updateUserRecipes  } = props;\r\n  const [fetching, updateFetching] = useState(true);\r\n  const [posts, updatePosts] = useState(null);\r\n  const [user, updateUser,] = useState(null);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`${config.API_URL}/api/timeline`, { withCredentials: true })\r\n      .then((response) => {\r\n        updateUser(response.data);\r\n        const recipesArr = response.data.recipe.map(eachRecipe => eachRecipe._id)\r\n        updateUserRecipes(recipesArr)\r\n        return axios.get(`${config.API_URL}/api/posts`, { withCredentials: true })\r\n      })\r\n      .then((response) => {\r\n        console.log(response.data)\r\n        updatePosts(response.data.reverse());\r\n        updateFetching(false);\r\n        if (response.data[0].user) {\r\n          props.history.push('/timeline')\r\n        }\r\n\r\n      })\r\n      .catch(() => {\r\n        console.log(\"Fetching failed\");\r\n      });\r\n  }, [props.history, updateUserRecipes]);\r\n\r\n  const handleAddPost = (e) => {\r\n    e.preventDefault()\r\n    console.log(e.target.imageUrl)\r\n    if (e.target.imageUrl.files[0]) {\r\n      let picture = e.target.imageUrl.files[0]\r\n      let formData = new FormData()\r\n      formData.append('imageUrl', picture)\r\n      axios.post(`${config.API_URL}/api/upload`, formData)\r\n        .then((response) => {\r\n          let recipe = e.target.recipe.value === 'default' ? null : e.target.recipe.value\r\n          return axios.post(\r\n            `${config.API_URL}/api/new-post`,\r\n            {\r\n              user: user._id,\r\n              picture: response.data.picture,\r\n              description: e.target.description.value,\r\n              recipe,\r\n            },\r\n            { withCredentials: true }\r\n          );\r\n        })\r\n        .then((result) => {\r\n          console.log(result.data)\r\n          updatePosts([result.data, ...posts])\r\n          props.history.push('/')\r\n          props.history.push('/timeline')\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        });\r\n    } else {\r\n      let recipe = e.target.recipe.value === 'default' ? null : e.target.recipe.value\r\n      axios.post(`${config.API_URL}/api/new-post`,\r\n        {\r\n          user: user._id,\r\n          picture: null,\r\n          description: e.target.description.value,\r\n          recipe,\r\n        },\r\n        { withCredentials: true }\r\n      )\r\n        .then((result) => {\r\n          updatePosts([result.data, ...posts])\r\n          props.history.push('/')\r\n          props.history.push('/timeline')\r\n\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        });\r\n    }\r\n\r\n  };\r\n\r\n\r\n  if (fetching) {\r\n    return <p>Loading . . .</p>;\r\n  }\r\n\r\n  return (\r\n    <div className=' allRecipes'>\r\n    <Link to='/'><img src=\"/logo-without-background.png\" class=\"logo\"></img></Link>\r\n      <div className='container'>\r\n        <CssBaseline />\r\n        <h1>WELCOME {user.username}</h1>\r\n\r\n\r\n        {/*form for posts */}\r\n        <form className='forms' onSubmit={handleAddPost}>\r\n          <TextField style={{ width: '30em' }} id=\"outlined-primary\" label=\"Post Something\" multiple={true}\r\n            rows={4} multiline variant=\"outlined\" name='description' type='text' ></TextField>\r\n\r\n          <label htmlFor=\"icon-button-file\">\r\n            <IconButton color=\"primary\" aria-label=\"upload picture\" component=\"span\">\r\n              <PhotoCamera />\r\n            </IconButton><Button type='submit'>Post</Button>\r\n          </label>\r\n          <br />\r\n          <br />\r\n          <select name='recipe'>\r\n            <option value=\"default\" selected >Choose one of your recipes</option>\r\n            {recipes.map((rec) => {\r\n              return <option key={rec._id} value={rec._id}>{rec.name}</option>\r\n            })}\r\n          </select>\r\n        </form>\r\n\r\n\r\n\r\n        <main className={classes.content}>\r\n          <div className={classes.toolbar} />\r\n          <Typography paragraph>\r\n            {\r\n              posts.map((post) => {\r\n                return (\r\n\r\n                  <div key={post._id} className='post '>\r\n                    {  console.log(post.user.picture)}\r\n                    {post.user.picture ? (<span className='picandname'><span><img className='postpic' src={post.user.picture}\r\n                      alt={post.user.username} /></span><b>{post.user.username}</b></span>) : (<div><Avatar id='avatar' key={post._id} /><b>{post.user.username}</b></div>)} <p>{post.description}</p><br />\r\n                    {post.picture && <img src={post.picture} alt='recipe.png' />}\r\n\r\n                    {post.recipe ?\r\n                      (post.recipe &&\r\n                        <p id='recipe-link' >I used:<Link key={post.recipe._id}\r\n                          to={`/recipe-details/${post.recipe._id}`}>\r\n                          <b>{' >> '}{post.recipe.name}{' << '}</b></Link> recipe</p>) : (<p>Find you recipe:\r\n                            <Link to=\"/recipes\"><b>{' >> '}Recipes{' << '}</b></Link></p>)\r\n                    }\r\n                  </div>\r\n                );\r\n              })\r\n            }\r\n          </Typography>\r\n        </main>\r\n      </div>\r\n\r\n      <aside id='sidebar'>\r\n\r\n        <div className={classes.toolbar} />\r\n\r\n        <h3 >My Friends</h3>\r\n        {\r\n          user.myFriends.map((singleFriend) => {\r\n            return (<div key={singleFriend._id}>\r\n              <List>\r\n                <p>{singleFriend.username}</p>\r\n              </List>\r\n              <Divider />\r\n            </div>\r\n            );\r\n          })\r\n        }\r\n        <Link to='/userList'><b>Access all users</b></Link>\r\n      </aside>\r\n\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Timeline;","import { FormControl, FormControlLabel, FormLabel, InputLabel, Radio, RadioGroup, Select, TextField } from '@material-ui/core'\r\nimport React from 'react'\r\nimport { ToastContainer } from 'react-toastify';\r\n\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\n\r\n// ADDFORM COMES FROM THE LINK ADD A RECIP IN APP.JS AND A ROUTE IN APP.JS\r\nfunction AddForm(props) {\r\n  const { onSubmit, onRadio } = props\r\n\r\n  return (\r\n    <div className='allRecipes'>\r\n      <ToastContainer />\r\n      <div style={{ maxWidth: '600px' }} className='recipeCard allRecipes'>\r\n        <h1>Add a new Recipe</h1>\r\n        <form className='formlabels' onSubmit={onSubmit}>\r\n          <TextField className='formlabels' label=\"Name of recipe*\" variant=\"outlined\" name=\"name\" type=\"text\" />\r\n          <br /><br />\r\n          <TextField className='formlabels' id=\"outlined-multiline-static\" rows={4} multiline variant=\"outlined\"\r\n            multiple={true}\r\n            label=\"Ingredients(separate them by comma. e.g. 8 Peppers, Salt,etc.)*\"\r\n            placeholder='Ingredients are separated by a comma (,)'\r\n            name=\"ingredient\"\r\n          /><br /><br />\r\n          <TextField className='formlabels' id=\"outlined-multiline-static\" rows={4} multiline variant=\"outlined\"\r\n            label=\"Instructions*\" name=\"instructions\" type=\"text\"\r\n            placeholder='Show a step by step guide for this recipe' />  <br /><br />\r\n\r\n          <TextField className='formlabels' id=\"outlined-basic\" label=\"Video instruction\"\r\n            variant=\"outlined\" name=\"youtube\"\r\n            placeholder='Paste a link to the video of this recipe(optional)' type=\"text\" />\r\n          <br />\r\n          <br />\r\n\r\n          <label>Recipe Picture(optional)</label><br />\r\n          <input className='formlabels' type=\"file\" name=\"imageUrl\" accept=\"image/png, image/jpeg\" />\r\n\r\n          <TextField className='formlabels' id=\"outlined-multiline-static\"\r\n            rows={4} multiline variant=\"outlined\"\r\n            label=\"Description*\"\r\n            name=\"description\"\r\n            type=\"textarea\"\r\n            multiple={true}\r\n            placeholder='Describe your recipe, and what makes it special'\r\n          />\r\n          <br />\r\n          <br />\r\n          <TextField\r\n            className='formlabels'\r\n            id=\"outlined-number\"\r\n            label=\"Cooking Time in minutes, e.g.60*\"\r\n\r\n            InputProps={{ inputProps: { min: 1 } }}\r\n            variant=\"outlined\"\r\n            name=\"cookingTime\"\r\n            type=\"number\" min=\"1\"\r\n            placeholder=\"cooking time in minutes, eg.60\" />\r\n          <br /><br />\r\n\r\n          <FormControl className='formlabels' variant=\"outlined\" >\r\n            <InputLabel htmlFor=\"outlined-age-native-simple\">Difficulty</InputLabel>\r\n            <Select\r\n              native\r\n              label=\"Difficulty\"\r\n              inputProps={{\r\n                name: 'difficulty',\r\n                id: 'outlined-age-native-simple',\r\n              }}>\r\n              <option value=\"Easy\"> Easy</option>\r\n              <option value=\"Medium\"> Medium </option>\r\n              <option value=\"Hard\"> Hard </option>\r\n            </Select>\r\n          </FormControl>\r\n          <br />\r\n          <br />\r\n          <TextField className='formlabels' id=\"outlined-basic\"\r\n            label=\"Country\" variant=\"outlined\"\r\n            name=\"country\" type=\"text\" placeholder=\" e.g.China\" />\r\n          <br />\r\n          <br />\r\n          <FormControl className='formlabels' variant=\"outlined\" >\r\n            <InputLabel htmlFor=\"outlined-age-native-simple\">Category</InputLabel>\r\n            <Select native label=\"Category\"\r\n              inputProps={{\r\n                name: 'category',\r\n                id: 'outlined-age-native-simple',\r\n              }}>\r\n              <option value=\"Main Course\">Main Course</option>\r\n              <option value=\"Seafood\">Seafood</option>\r\n              <option value=\"Breakfast\">Breakfast</option>\r\n              <option value=\"Side dish\">Side dish</option>\r\n              <option value=\"Dessert\">Dessert</option>\r\n            </Select>\r\n          </FormControl>\r\n          <br /><br />\r\n          <FormControl className='formlabels' component=\"fieldset\">\r\n            <FormLabel component=\"legend\">Vegetarian</FormLabel>\r\n            <RadioGroup row aria-label=\"position\" name=\"position\" defaultValue=\"top\">\r\n              <FormControlLabel\r\n                value=\"true\"\r\n                control={<Radio color=\"primary\" />}\r\n                label=\"Yes\"\r\n                labelPlacement=\"start\"\r\n                type=\"radio\"\r\n                name=\"vegetarian\"\r\n                onChange={onRadio}\r\n              />\r\n              <FormControlLabel type=\"radio\"\r\n                name=\"vegetarian\"\r\n                onChange={onRadio} value=\"false\" control={<Radio color=\"primary\" />}\r\n                labelPlacement=\"start\" label=\"No\" />\r\n            </RadioGroup>\r\n          </FormControl>\r\n          <br />\r\n\r\n          <br />\r\n          <button type='submit'> Create Recipe</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddForm;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport config from \"../../config\";\r\nimport { Button, FormControl, FormControlLabel, FormLabel, InputLabel, Radio, RadioGroup, Select, TextField } from \"@material-ui/core\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// EDIT FORM COMES FROM A LINK IN RECIPE DETAILS.JS + A ROUTE IN APP.JS\r\nfunction EditForm(props) {\r\n    const [fetching, updateFetching] = useState(true);\r\n    // const [recipe, updateRecipe] = useState({})\r\n    const { onEdit, updateRecipe, recipe, onChange, onRadio, user, trueFalse } = props;\r\n\r\n\r\n    useEffect(() => {\r\n        let recipeId = props.match.params.recipeId;\r\n\r\n        axios\r\n            .get(`${config.API_URL}/api/recipe/${recipeId}`, {\r\n                withCredentials: true,\r\n            })\r\n            .then((response) => {\r\n                updateRecipe(response.data);\r\n                updateFetching(false);\r\n            })\r\n            .catch(() => {\r\n                console.log(\"Detail fecth failed\");\r\n            });\r\n    }, [props.match.params.recipeId, updateRecipe]);\r\n\r\n    const handleNameChange = (event) => {\r\n        let text = event.target.value\r\n        let cloneRecipe = JSON.parse(JSON.stringify(recipe))\r\n        cloneRecipe.name = text\r\n        updateRecipe(cloneRecipe)\r\n        console.log(recipe)\r\n    }\r\n    const handleIngredients = (event) => {\r\n        let text = event.target.value\r\n        props.onType(event)\r\n        let cloneRecipe = JSON.parse(JSON.stringify(recipe))\r\n        cloneRecipe.ingredients = text\r\n        updateRecipe(cloneRecipe)\r\n        console.log(recipe)\r\n    }\r\n    const handleInstructions = (event) => {\r\n        let text = event.target.value\r\n        let cloneRecipe = JSON.parse(JSON.stringify(recipe))\r\n        cloneRecipe.instructions = text\r\n        updateRecipe(cloneRecipe)\r\n    }\r\n    const handleVideoChange = (event) => {\r\n        let text = event.target.value\r\n        let cloneRecipe = JSON.parse(JSON.stringify(recipe))\r\n        cloneRecipe.youtube = text\r\n        updateRecipe(cloneRecipe)\r\n    }\r\n    const handlePictureChange = (event) => {\r\n        let text = event.target.value\r\n        let cloneRecipe = JSON.parse(JSON.stringify(recipe))\r\n        cloneRecipe.picture = text\r\n        updateRecipe(cloneRecipe)\r\n    }\r\n    const handleDecriptionChange = (event) => {\r\n        let text = event.target.value\r\n        let cloneRecipe = JSON.parse(JSON.stringify(recipe))\r\n        cloneRecipe.description = text\r\n        updateRecipe(cloneRecipe)\r\n    }\r\n    const handleCookingTime = (event) => {\r\n        let text = event.target.value\r\n        let cloneRecipe = JSON.parse(JSON.stringify(recipe))\r\n        cloneRecipe.cookingTime = text\r\n        updateRecipe(cloneRecipe)\r\n    }\r\n\r\n    const handleCountryChange = (event) => {\r\n        let text = event.target.value\r\n        let cloneRecipe = JSON.parse(JSON.stringify(recipe))\r\n        cloneRecipe.country = text\r\n        updateRecipe(cloneRecipe)\r\n    }\r\n    const handleCategoryChange = (event) => {\r\n        console.log(event.target.value)\r\n        let text = event.target.value\r\n        let cloneRecipe = JSON.parse(JSON.stringify(recipe))\r\n        cloneRecipe.category = text\r\n        updateRecipe(cloneRecipe)\r\n    }\r\n    const handleDifficulty = (event) => {\r\n        console.log(event.target.value)\r\n        let text = event.target.value\r\n        let cloneRecipe = JSON.parse(JSON.stringify(recipe))\r\n        cloneRecipe.difficulty = text\r\n        updateRecipe(cloneRecipe)\r\n    }\r\n\r\n\r\n    if (fetching) {\r\n        return <p>Loading ....</p>\r\n    }\r\n    return (\r\n        <div>\r\n        <Link to='/'><img src=\"/logo-without-background.png\" class=\"logo\"></img></Link>\r\n        <div className='allRecipes'>\r\n\r\n            <div style={{ maxWidth: '600px', fontSize: 'smaller' }} className='recipeCard'>\r\n                <h1>Edit this Recipe</h1>\r\n                <TextField className='formlabels' label=\"Name\"\r\n                    variant=\"outlined\" name=\"name\" type=\"text\"\r\n                    onChange={handleNameChange} value={recipe.name} />\r\n                <br />\r\n                <br />\r\n                <TextField className='formlabels' id=\"outlined-multiline-static\" rows={4} multiline variant=\"outlined\"\r\n                    multiple={true}\r\n                    label=\"Ingredients\"\r\n                    name=\"ingredient\"\r\n                    onChange={handleIngredients} value={recipe.ingredients}\r\n                />\r\n                <br />\r\n                <br />\r\n                <TextField className='formlabels'\r\n                    id=\"outlined-multiline-static\"\r\n                    rows={4} multiline variant=\"outlined\"\r\n                    label=\"Instructions\" name=\"instructions\"\r\n                    onChange={handleInstructions} value={recipe.instructions} type=\"text\" />\r\n                <br />\r\n                <br />\r\n                <TextField className='formlabels' id=\"outlined-basic\" label=\"Video instruction\"\r\n                    variant=\"outlined\" name=\"youtube\" onChange={handleVideoChange}\r\n                    value={recipe.youtube} type=\"text\" />\r\n                <br />\r\n                <br />\r\n                <label >Recipe Picture</label>\r\n                <br />\r\n                <input className='formlabels'\r\n                    type=\"file\"\r\n                    onChange={handlePictureChange} value={recipe.imageUrl}\r\n                    name=\"imageUrl\"\r\n                    accept=\"image/png, image/jpeg\"\r\n                />{\" \"}\r\n                <br />\r\n                <br />\r\n                <TextField className='formlabels' id=\"outlined-multiline-static\"\r\n                    rows={4} multiline variant=\"outlined\"\r\n                    label=\"description\"\r\n                    name=\"description\"\r\n                    type=\"textarea\"\r\n                    multiple={true}\r\n                    onChange={handleDecriptionChange} value={recipe.description}\r\n                />\r\n                <br />\r\n                <br />\r\n\r\n                <TextField\r\n                    className='formlabels'\r\n                    id=\"outlined-number\"\r\n                    label=\"Cooking Time in minutes, eg.60\"\r\n                    InputProps={{ inputProps: { min: 1 } }}\r\n                    variant=\"outlined\"\r\n                    name=\"cookingTime\"\r\n                    onChange={handleCookingTime} value={recipe.cookingTime}\r\n                    type=\"number\"\r\n                    placeholder=\"cooking time in minutes, eg.60\"\r\n\r\n                />\r\n                <br />\r\n                <br />\r\n                <FormControl className='formlabels' variant=\"outlined\" >\r\n                    <InputLabel htmlFor=\"outlined-age-native-simple\">Difficulty</InputLabel>\r\n                    <Select\r\n                        value={recipe.difficulty}\r\n                        native\r\n                        onChange={handleDifficulty}\r\n                        label=\"Difficulty\"\r\n                        inputProps={{\r\n                            name: 'difficulty',\r\n                            id: 'outlined-age-native-simple',\r\n                        }}>\r\n                        <option value=\"Easy\"> Easy</option>\r\n                        <option value=\"Medium\"> Medium </option>\r\n                        <option value=\"Hard\"> Hard </option>\r\n                    </Select>\r\n                </FormControl>\r\n                <br />\r\n                <br />\r\n\r\n                <TextField className='formlabels' id=\"outlined-basic\"\r\n                    label=\"Country\" variant=\"outlined\"\r\n                    name=\"country\" onChange={handleCountryChange}\r\n                    value={recipe.country} type=\"text\" />\r\n                <br />\r\n                <br />\r\n                <FormControl className='formlabels' variant=\"outlined\" >\r\n                    <InputLabel htmlFor=\"outlined-age-native-simple\">Category</InputLabel>\r\n                    <Select onChange={handleCategoryChange}\r\n                        native\r\n                        value={recipe.category}\r\n                        label=\"Category\"\r\n                        inputProps={{\r\n                            name: 'category',\r\n                            id: 'outlined-age-native-simple',\r\n                        }}>\r\n                        <option value=\"Main Course\">Main Course</option>\r\n                        <option value=\"Seafood\">Seafood</option>\r\n                        <option value=\"Breakfast\">Breakfast</option>\r\n                        <option value=\"Side dish\">Side dish</option>\r\n                        <option value=\"Dessert\">Dessert</option>\r\n                    </Select>\r\n                </FormControl>\r\n                <br />\r\n\r\n                <FormControl className='formlabels' component=\"fieldset\">\r\n                    <FormLabel component=\"legend\">Vegetarian</FormLabel>\r\n                    <RadioGroup row aria-label=\"position\" name=\"position\" defaultValue=\"top\">\r\n                        <FormControlLabel\r\n                            value=\"true\"\r\n                            control={<Radio color=\"primary\" />}\r\n                            label=\"Yes\"\r\n                            labelPlacement=\"start\"\r\n                            type=\"radio\"\r\n                            name=\"vegetarian\"\r\n                            onChange={onRadio}\r\n                        />\r\n                        <FormControlLabel type=\"radio\"\r\n                            name=\"vegetarian\"\r\n                            onChange={onRadio} value=\"false\" control={<Radio color=\"primary\" />}\r\n                            labelPlacement=\"start\" label=\"No\" />\r\n                    </RadioGroup>\r\n                </FormControl>\r\n                <br />\r\n                <div className='formlabels' ><button onClick={onEdit} > Update</button></div>\r\n\r\n            </div>\r\n        </div >\r\n        </div>\r\n        \r\n    );\r\n}\r\nexport default EditForm;","import axios from \"axios\";\r\nimport React, { Component } from \"react\";\r\nimport config from \"../../config\";\r\nimport \"./ChatPage.css\";\r\nimport io from \"socket.io-client\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nlet socket = \"\";\r\n\r\nclass ChatPage extends Component {\r\n  // Assing a ref to the messages div\r\n  messagesEnd = React.createRef();\r\n  state = {\r\n    loading: true,\r\n    messageList: [],\r\n    currentMessage: \"\",\r\n  };\r\n\r\n  scrollToBottom = () => {\r\n    this.messagesEnd.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  componentDidMount() {\r\n    //setup your socket connection with the server\r\n    socket = io(`${config.API_URL}`);\r\n\r\n    let conversationId = this.props.match.params.chatId;\r\n    axios\r\n      .get(`${config.API_URL}/api/messages/${conversationId}`)\r\n      .then((response) => {\r\n        this.setState(\r\n          {\r\n            loading: false,\r\n            messageList: response.data,\r\n          },\r\n          () => {\r\n            this.scrollToBottom();\r\n          }\r\n        );\r\n      });\r\n    // ensure that the user is connected to a specific chat via webSocket\r\n    socket.emit(\"join_chat\", conversationId);\r\n\r\n    //Handle incoming messages from webSocket\r\n    socket.on(\"receive_message\", (data) => {\r\n      console.log(\"Got data\", data);\r\n      this.setState(\r\n        {\r\n          messageList: [...this.state.messageList, data],\r\n        },\r\n        () => {\r\n          this.scrollToBottom();\r\n        }\r\n      );\r\n    });\r\n  }\r\n\r\n  handleMessageInput = (e) => {\r\n    this.setState({\r\n      currentMessage: e.target.value,\r\n    });\r\n  };\r\n\r\n  sendMessage = async () => {\r\n    // Create the object structure\r\n    let messageContent = {\r\n      chatId: this.props.match.params.chatId,\r\n      content: {\r\n        sender: this.props.user,\r\n        message: this.state.currentMessage,\r\n      },\r\n    };\r\n\r\n    // emit it so that everyone connected to the same chat receives the message\r\n    await socket.emit(\"send_message\", messageContent);\r\n    this.setState(\r\n      {\r\n        messageList: [...this.state.messageList, messageContent.content],\r\n        currentMessage: \"\",\r\n      },\r\n      () => {\r\n        this.scrollToBottom();\r\n      }\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { loading, messageList } = this.state;\r\n    const { user } = this.props;\r\n    console.log(user.username)\r\n    if (loading) {\r\n      <p>Loading all messages . . .</p>;\r\n    }\r\n\r\n    return (\r\n      <div>\r\n            <div>\r\n        <Link to='/'><img src=\"/logo-without-background.png\" class=\"logo\"></img></Link>\r\n      </div>\r\n        <h3>You're in the Chat Page </h3><Link to={`/profile/${user.username}/friends`}><Button>Back to Friend List</Button></Link>\r\n        <div className=\"chatContainer\">\r\n          <div className=\"messages\">\r\n            {messageList.map((val) => {\r\n              return (\r\n                <div\r\n                  key={val._id}\r\n                  className=\"messageContainer\"\r\n                  id={val.sender.username == user.username ? \"You\" : \"Other\"}\r\n                >\r\n                  <div className=\"messageIndividual\">\r\n                    {val.sender.username}: {val.message}\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n            <div\r\n              style={{ float: \"left\", clear: \"both\" }}\r\n              ref={(el) => {\r\n                this.messagesEnd = el;\r\n              }}\r\n            ></div>\r\n          </div>\r\n          <div className=\"messageInputs\">\r\n            <input\r\n              value={this.state.currentMessage}\r\n              type=\"text\"\r\n              placeholder=\"Message...\"\r\n              onChange={this.handleMessageInput}\r\n            />\r\n            <button onClick={this.sendMessage}>Send</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ChatPage;\r\n","import React, { useEffect, useState } from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport List from '@material-ui/core/List';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\n// import InboxIcon from '@material-ui/icons/MoveToInbox';\r\n// import { Avatar, Button, Card, CardActions, CardContent, CardMedia, GridList, GridListTile, TextField } from '@material-ui/core';\r\nimport { AccountCircleOutlined, FastfoodSharp, HomeRounded, People, Settings } from '@material-ui/icons';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport config from '../../config'\r\nimport { Avatar, Button, ButtonBase } from '@material-ui/core';\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n    },\r\n    appBar: {\r\n        transition: theme.transitions.create(['margin', 'width'], {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.leavingScreen,\r\n        }),\r\n    },\r\n    appBarShift: {\r\n        width: `calc(100% - ${drawerWidth}px)`,\r\n        marginLeft: drawerWidth,\r\n        transition: theme.transitions.create(['margin', 'width'], {\r\n            easing: theme.transitions.easing.easeOut,\r\n            duration: theme.transitions.duration.enteringScreen,\r\n        }),\r\n    },\r\n    menuButton: {\r\n        marginRight: theme.spacing(2),\r\n    },\r\n    hide: {\r\n        display: 'none',\r\n    },\r\n    drawer: {\r\n        width: drawerWidth,\r\n        flexShrink: 0,\r\n    },\r\n    drawerPaper: {\r\n        width: drawerWidth,\r\n    },\r\n    drawerHeader: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        padding: theme.spacing(0, 1),\r\n        // necessary for content to be below app bar\r\n        ...theme.mixins.toolbar,\r\n        justifyContent: 'flex-end',\r\n    },\r\n    content: {\r\n        flexGrow: 1,\r\n        padding: theme.spacing(3),\r\n        transition: theme.transitions.create('margin', {\r\n            easing: theme.transitions.easing.sharp,\r\n            duration: theme.transitions.duration.leavingScreen,\r\n        }),\r\n        marginLeft: -drawerWidth,\r\n    },\r\n    contentShift: {\r\n        transition: theme.transitions.create('margin', {\r\n            easing: theme.transitions.easing.easeOut,\r\n            duration: theme.transitions.duration.enteringScreen,\r\n        }),\r\n        marginLeft: 0,\r\n    },\r\n}));\r\n\r\n\r\nexport default function Profile(props) {\r\n    const [user, updateUser,] = useState(null);\r\n    const [myrecipe, updateMyRecipe] = useState(false)\r\n    const [friends, updateMyFriends] = useState(false)\r\n    const [fetching, updateFetching] = useState(true);\r\n    const [posts, updatePosts] = useState(null);\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const handleChatClick = (chatUserId) => {\r\n        const { user, onAddaFriend } = props;\r\n        if (!user) {\r\n            props.history.push(\"/signin\");\r\n        } else {\r\n            let data = {\r\n                participants: [chatUserId, user._id],\r\n            };\r\n            axios\r\n                .post(`${config.API_URL}/api/conversation`, data, {\r\n                    withCredentials: true,\r\n                })\r\n                .then((response) => {\r\n                    props.history.push(`/chat/${response.data._id}`);\r\n                });\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        axios\r\n            .get(`${config.API_URL}/api/timeline`, { withCredentials: true })\r\n            .then((response) => {\r\n                updateUser(response.data);\r\n                updateMyFriends(response.data.myFriends)\r\n                return axios.get(`${config.API_URL}/api/posts`, { withCredentials: true })\r\n            })\r\n            .then((response) => {\r\n                updatePosts(response.data.reverse());\r\n                updateFetching(false);\r\n            })\r\n            .catch(() => {\r\n                console.log(\"Fetching failed\");\r\n            });\r\n    }, [updateUser]);\r\n    const handleDrawerOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleDrawerClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    if (fetching) {\r\n        return <p>Loading . . .</p>;\r\n    }\r\n    return (\r\n        <div>\r\n            <div id='profileInfo'>\r\n                <img className='profilePicture' src={user.picture} alt={user.username}></img>\r\n                <div> <h3>{user.firstName} {user.lastName}</h3><br /><p>e-mail address : {user.email} </p></div>\r\n            </div>\r\n            <div className='container'>\r\n                <h3>My Posts</h3>\r\n                {\r\n                    posts.map((post) => {\r\n                        return (\r\n                            post?.user?._id === user._id &&\r\n                            <div key={post?._id} className='post'>\r\n                                <span></span><b><Avatar />{post.user.username}</b> <p>{post.description}</p><br />\r\n                                {post.picture && <img src={post.picture} alt='recipe.png' />}\r\n\r\n                                {post.recipe ?\r\n                                    (post.recipe &&\r\n                                        <p id='recipe-link' >I used:<Link key={post.recipe._id}\r\n                                            to={`/recipe-details/${post.recipe._id}`}>\r\n                                            <b>{' >> '}{post.recipe.name}{' << '}</b></Link> recipe</p>) : (<p>Find you recipe:\r\n                                                <Link to=\"/recipes\"><b>{' >> '}Recipes{' << '}</b></Link></p>)\r\n                                } </div>\r\n                        );\r\n                    })\r\n                    }\r\n        </div>\r\n        </div>\r\n    );\r\n}","import axios from \"axios\";\r\nimport React, { Component } from \"react\";\r\nimport {Link} from 'react-router-dom'\r\nimport config from \"../../config\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\r\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\n// import InboxIcon from '@material-ui/icons/MoveToInbox';\r\n// import { Avatar, Button, Card, CardActions, CardContent, CardMedia, GridList, GridListTile, TextField } from '@material-ui/core';\r\nimport {\r\n  AccountCircleOutlined,\r\n  FastfoodSharp,\r\n  HomeRounded,\r\n  People,\r\n  Settings,\r\n} from \"@material-ui/icons\";\r\nimport { Avatar, Button, ButtonBase } from \"@material-ui/core\";\r\n\r\nconst drawerWidth = 240;\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n  },\r\n  appBar: {\r\n    transition: theme.transitions.create([\"margin\", \"width\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    marginLeft: drawerWidth,\r\n    transition: theme.transitions.create([\"margin\", \"width\"], {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  hide: {\r\n    display: \"none\",\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n  },\r\n  drawerHeader: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    padding: theme.spacing(0, 1),\r\n    // necessary for content to be below app bar\r\n    ...theme.mixins.toolbar,\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    marginLeft: -drawerWidth,\r\n  },\r\n  contentShift: {\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    marginLeft: 0,\r\n  },\r\n}));\r\nclass UserList extends Component {\r\n  handleChatClick = (chatUserId) => {\r\n    const { user } = this.props;\r\n    if (!user) {\r\n      this.props.history.push(\"/signin\");\r\n    } else {\r\n      let data = {\r\n        participants: [chatUserId, user._id],\r\n      };\r\n      axios\r\n        .post(`${config.API_URL}/api/conversation`, data, {\r\n          withCredentials: true,\r\n        })\r\n        .then((response) => {\r\n          this.props.history.push(`/chat/${response.data._id}`);\r\n        });\r\n    }\r\n  };\r\n\r\n  componentDidUpdate(prevProps){\r\n    if(prevProps.user !== this.props.user){\r\n      console.log(prevProps.user.myFriends.length, this.props.user.myFriends.length, 'LENGTH')\r\n    }\r\n  }\r\n\r\n  // handleDelete = (someUser) => {\r\n  //   const { user } = this.props;\r\n  //   let filteredFriends = user.myFriends.filter((singleFriend)=>{\r\n  //     return singleFriend._id !== someUser\r\n  //   })\r\n\r\n  // }\r\n\r\n  render() {\r\n    const { users, user, onAddaFriend, fetching, updateFetching } = this.props;\r\n    let newFriend = [];\r\n    user.myFriends.map((friend) => {\r\n      newFriend.push(friend);\r\n    });\r\n    console.log(\"newFriend\", newFriend);\r\n    // remove yourself if you're signed in\r\n    let allUsers = users;\r\n    if (user) {\r\n      allUsers = users.filter((u) => u._id !== user._id);\r\n    }\r\n    console.log(allUsers);\r\n    return (\r\n      <div>\r\n        <Link to=\"/\">\r\n          <img src=\"/logo-without-background.png\" class=\"logo\"></img>\r\n        </Link>\r\n        <div>\r\n          {\" \"}\r\n          <main className=\"allRecipes\">\r\n            {allUsers.map((singleUser) => {\r\n              console.log(\"singleuser\", singleUser);\r\n              if (newFriend.includes(singleUser._id)) {\r\n                return (\r\n                  <div className=\"recipeCard \">\r\n                    {singleUser.username == null ? (\r\n                      <div>\r\n                      <Avatar /><h3> {singleUser.firstName} </h3>{\" \"}\r\n                      </div>\r\n                    ) : (\r\n                      <div>\r\n                      {\r\n                        singleUser.picture == null ? (<div><Avatar /><h3> {singleUser.firstName} </h3></div>)\r\n                        : (<div><img className='profilePicture' src={singleUser.picture} alt={singleUser.username}></img><h3> {singleUser.username} </h3></div>)\r\n                      }\r\n                      {\" \"}\r\n                      </div>\r\n                    )}\r\n                    <Button\r\n                      style={{ background: \"lightgreen\" }}\r\n                      onClick={() => {\r\n                        this.handleChatClick(singleUser._id);\r\n                      }}\r\n                    >\r\n                      Chat\r\n                    </Button>\r\n                    <Button\r\n                      style={{ background: \"#EF7A90\" }}\r\n                      onClick={() => {\r\n                        this.handleDelete(singleUser._id);\r\n                      }}\r\n                    >\r\n                      Delete this friend\r\n                    </Button>\r\n                  </div>\r\n                );\r\n              } else {\r\n                return (\r\n                  <div className=\"recipeCard \">\r\n                    {\" \"}\r\n                    {singleUser.username == null ? (\r\n                      <div>\r\n                      {\r\n                        singleUser.picture == null ? (<div><Avatar /><h3> {singleUser.firstName} </h3></div>)\r\n                        : (<div><img className='profilePicture' src={singleUser.picture} alt={singleUser.username}></img><h3> {singleUser.username} </h3></div>)\r\n                      }\r\n\r\n                      </div>\r\n                    ) : (\r\n                      <div>\r\n                      <img className='profilePicture' src={singleUser.picture} alt={singleUser.username}></img> <h3> {singleUser.username} </h3>{\" \"}\r\n                      </div>\r\n                    )}\r\n                    <Button\r\n                      style={{ background: \"lightblue\" }}\r\n                      onClick={() => {\r\n                        onAddaFriend(singleUser);\r\n                      }}\r\n                    >\r\n                      Add this user as a friend\r\n                    </Button>\r\n                  </div>\r\n                );\r\n              }\r\n            })}{\" \"}\r\n          </main>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserList;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport EcoTwoToneIcon from '@material-ui/icons/EcoTwoTone';\r\n\r\nfunction Home(props) {\r\n  const { recipes } = props\r\n  return (\r\n    <div>\r\n    <Link to='/' ><img src=\"logo-without-background-tall.png\" className=\"logoHome\"></img></Link>\r\n    \r\n<p className=\"description\">FoodCafe is a place for all the foodies around the world! <br/>Sign up to our app and have access to some delicious recipes from all over the world!</p>\r\n      <section className='allRecipes'>\r\n        {recipes.map((recipe) => {\r\n          return <div className='recipeCard backgroundCard'>\r\n            <div >\r\n              <Link key={recipe._id} to={`/recipe-details/${recipe._id}`}>\r\n                <h3>{recipe.vegetarian && <span><EcoTwoToneIcon style={{ color: 'green' }} /></span>}{recipe.name}</h3>\r\n\r\n                <img style={{ maxWidth: '260px', maxHeight: '260px', height: '100%' }}\r\n                  alt={recipe.name} src={recipe.picture} />\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        })\r\n        }\r\n      </section>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home","import React, { useEffect, useState } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\r\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\n// import InboxIcon from '@material-ui/icons/MoveToInbox';\r\n// import { Avatar, Button, Card, CardActions, CardContent, CardMedia, GridList, GridListTile, TextField } from '@material-ui/core';\r\nimport {\r\n  AccountCircleOutlined,\r\n  FastfoodSharp,\r\n  HomeRounded,\r\n  People,\r\n  Settings,\r\n} from \"@material-ui/icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport config from \"../../config\";\r\nimport { Avatar, Button, ButtonBase } from \"@material-ui/core\";\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n  },\r\n  appBar: {\r\n    transition: theme.transitions.create([\"margin\", \"width\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    marginLeft: drawerWidth,\r\n    transition: theme.transitions.create([\"margin\", \"width\"], {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  hide: {\r\n    display: \"none\",\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n  },\r\n  drawerHeader: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    padding: theme.spacing(0, 1),\r\n    // necessary for content to be below app bar\r\n    ...theme.mixins.toolbar,\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    marginLeft: -drawerWidth,\r\n  },\r\n  contentShift: {\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    marginLeft: 0,\r\n  },\r\n}));\r\n\r\nexport default function FriendsList(props) {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [open, setOpen] = React.useState(false);\r\n  const [friends, updateMyFriends] = useState(false);\r\n  const [fetching, updateFetching] = useState(true);\r\n  const { user, recipes } = props;\r\n\r\n  const handleChatClick = (chatUserId) => {\r\n    const { user } = props;\r\n    if (!user) {\r\n      props.history.push(\"/signin\");\r\n    } else {\r\n      let data = {\r\n        participants: [chatUserId, user._id],\r\n      };\r\n      axios\r\n        .post(`${config.API_URL}/api/conversation`, data, {\r\n          withCredentials: true,\r\n        })\r\n        .then((response) => {\r\n          props.history.push(`/chat/${response.data._id}`);\r\n        });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`${config.API_URL}/api/timeline`, { withCredentials: true })\r\n      .then((response) => {\r\n        updateMyFriends(response.data.myFriends);\r\n        updateFetching(false);\r\n      })\r\n      .catch(() => {\r\n        console.log(\"Fetching failed\");\r\n      });\r\n  }, []);\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  if (fetching) {\r\n    return <p>Loading . . .</p>;\r\n  }\r\n  return (\r\n    <div>\r\n<Link to='/'><img src=\"/logo-without-background.png\" class=\"logo\"></img></Link>\r\n    <div className={` container`}>\r\n\r\n      <CssBaseline />\r\n      <AppBar\r\n        position=\"fixed\"\r\n        className={clsx(classes.appBar, {\r\n          [classes.appBarShift]: open,\r\n        })}\r\n      >\r\n        <Toolbar>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            edge=\"start\"\r\n            className={clsx(classes.menuButton, open && classes.hide)}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <AccountCircleOutlined />{\" \"}\r\n          <h3>\r\n            {\" \"}\r\n            {user.firstName} {user.lastName}\r\n          </h3>\r\n          ({user.usertype})\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Drawer\r\n        className={classes.drawer}\r\n        variant=\"persistent\"\r\n        anchor=\"left\"\r\n        open={open}\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n      >\r\n        <div className={classes.drawerHeader}>\r\n          <IconButton onClick={handleDrawerClose}>\r\n            {theme.direction === \"ltr\" ? (\r\n              <ChevronLeftIcon />\r\n            ) : (\r\n              <ChevronRightIcon />\r\n            )}\r\n          </IconButton>\r\n        </div>\r\n        <Divider />\r\n        <List>\r\n          <Link to={`/profile/${user.username}/friends`}>\r\n            <ListItem button>\r\n              <ListItemIcon>\r\n                {\" \"}\r\n                <People />{\" \"}\r\n              </ListItemIcon>\r\n              <ListItemText primary=\"Friends\" />\r\n            </ListItem>\r\n          </Link>\r\n          <Divider />\r\n          <Link to={`/profile/${user.username}/recipes`}>\r\n            <ListItem button>\r\n              <ListItemIcon>\r\n                {\" \"}\r\n                <FastfoodSharp />{\" \"}\r\n              </ListItemIcon>\r\n              <ListItemText primary=\"Recipes\" />\r\n            </ListItem>\r\n          </Link>\r\n          <Divider />\r\n          <Link to={`/profile/${user.username}/settings`}>\r\n            <ListItem button>\r\n              <ListItemIcon>\r\n                {\" \"}\r\n                <Settings />{\" \"}\r\n              </ListItemIcon>\r\n              <ListItemText primary=\"Settings\" />\r\n            </ListItem>\r\n          </Link>\r\n        </List>\r\n      </Drawer>\r\n\r\n      <main className=\"allRecipes\">\r\n        {friends.map((friend) => {\r\n          return (\r\n            <div className=\"recipeCard \">\r\n              <Button\r\n                style={{ background: \"lightgreen\" }}\r\n                onClick={() => {\r\n                  handleChatClick(friend._id);\r\n                }}\r\n              >\r\n                Chat\r\n              </Button>\r\n              <div>\r\n                <h3>\r\n                  {\" \"}\r\n                  <Avatar /> <>{friend.firstName}</>\r\n                  <> {friend.lastName}</>{\" \"}\r\n                </h3>\r\n                <h4>{friend.username} recipes:</h4>\r\n                {friend.recipe.map((singleRecipe) => {\r\n                  return recipes.map((rec) => {\r\n                    if (rec._id === singleRecipe) {\r\n                      return (\r\n                        <Link to={`/recipe-details/${rec._id}`}>\r\n                          <p style={{ color: \"#6985c0\" }}>{rec.name}</p>\r\n                        </Link>\r\n                      );\r\n                    }\r\n                  });\r\n                })}\r\n                <div></div>\r\n                <p></p>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </main>\r\n    </div>\r\n    </div>\r\n    \r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport config from '../../config'\r\n\r\nfunction MyRecipes(props) {\r\n    const [user, updateUser] = useState(null)\r\n    const [fetching, updateFetching] = useState(true)\r\n\r\n\r\n    useEffect(() => {\r\n        axios.get(`${config.API_URL}/api/timeline`, { withCredentials: true })\r\n            .then((res) => {\r\n                updateUser(res.data)\r\n                updateFetching(false)\r\n            })\r\n    }, []);\r\n\r\n\r\n    if (fetching) {\r\n        return <p>Loading . . .</p>;\r\n    }\r\n    return (\r\n        <div> <Link to='/'><img src=\"/logo-without-background.png\" class=\"logo\"></img></Link>\r\n        <div className={` container`}>\r\n            <section style={{ width: '100%', display: 'flex', justifyContent: 'center', flexWrap: 'wrap' }}>\r\n                {user.recipe.map((recipe) => {\r\n                    return <div className='recipeCard' >\r\n                        <div >\r\n                            <Link key={recipe._id} to={`/recipe-details/${recipe._id}`}>\r\n                                <h3>{recipe.name}</h3>\r\n                                <img style={{ maxWidth: '260px' }}\r\n                                    alt={recipe.name} src={recipe.picture} />\r\n                            </Link>\r\n                            <p>{recipe.description}</p>\r\n\r\n                        </div>\r\n                    </div>\r\n                })\r\n                }\r\n            </section>\r\n        </div>\r\n\r\n        </div>\r\n       \r\n    );\r\n}\r\nexport default MyRecipes\r\n","import React from  'react'\r\nimport Lottie from  'react-lottie';\r\n\r\nfunction LottieControl(props) {\r\n\r\n\tconst { height, width, animation } = props\r\n\t\r\n\tconst defaultOptions = {\r\n\t\tloop: true,\r\n\t\tautoplay: true,\r\n\t\tanimationData: animation,\r\n\t\trendererSettings: {\r\n\t\t\tpreserveAspectRatio: 'xMidYMid slice'\r\n\t\t}\r\n\t};\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Lottie  \r\n\t\t\t\toptions={defaultOptions}  \r\n\t\t\t\theight={height}  \r\n\t\t\t\twidth={width }\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default LottieControl","import React, { Component } from 'react'\r\nimport LottieControl from './LottieControl'\r\nimport data from '../../animations/404.json'\r\nimport { Switch, Route, withRouter, Link } from \"react-router-dom\";\r\n\r\nclass NotFound extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1 className=\"four\">Oops this page is not ready yet. Please use the link below to go back to the Home page</h1>\r\n        <Link to=\"/\" className=\"linkFour\">Click here</Link>\r\n        <LottieControl animation={data} width={1000} height={720}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default NotFound","/* eslint-disable no-unused-vars */\r\nimport axios from \"axios\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Switch, Route, withRouter, Link } from \"react-router-dom\";\r\nimport config from \"./config\";\r\nimport Login from \"./components/auth/Login\";\r\nimport SignUp from \"./components/auth/SignUp\";\r\nimport SignUpRandom from \"./components/auth/SignUpRandom\";\r\nimport NavBar from \"./components/NavBar\";\r\nimport AllRecipes from \"./components/recipes/AllRecipes\";\r\nimport RecipeDetails from \"./components/recipes/RecipeDetails\";\r\nimport Timeline from \"./components/profile/Timeline\";\r\nimport AddForm from \"./components/recipes/AddForm\";\r\nimport EditForm from \"./components/recipes/EditForm\";\r\nimport ChatPage from \"./components/chat/ChatPage\";\r\nimport \"./App.css\";\r\nimport Profile from \"./components/profile/Profile\";\r\nimport Users from \"./components/profile/Users\";\r\nimport UserList from \"./components/chat/UserList\";\r\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\r\nimport Home from \"./components/home/Home\";\r\nimport FriendsList from \"./components/profile/FriendsList\";\r\nimport MyRecipes from \"./components/profile/MyRecipes\";\r\nimport NotFound from './components/Lottie/NotFound'\r\n\r\nfunction App(props) {\r\n  //STATES\r\n  const [error, updateError] = useState(null);\r\n  const [user, updateUser] = useState(null);\r\n  const [userRecipes, updateUserRecipes] = useState([])\r\n  const [redirection, updateRedirection] = useState(null);\r\n  const [recipes, updateRecipes] = useState([]);\r\n  const [fetching, updateFetching] = useState(true);\r\n  const [friend, updateFriend] = useState(null);\r\n  const [recipe, updateRecipe] = useState(null);\r\n  const [randomRecipe, updateRandomRecipe] = useState([]);\r\n  const [randomUser, updateRandomUser] = useState([]);\r\n  const [ingredients, updateIngredients] = useState([]);\r\n  const [trueFalse, updateTrueFalse] = useState(null);\r\n  const [allUsers, updateAllUsers] = useState([]);\r\n  const [users, updateUsers] = useState([]);\r\n  const [showLoading, updateShowLoading] = useState(true)\r\n\r\n  //FIRST USE EFFECT\r\n  useEffect(() => {\r\n    axios\r\n      .get(`${config.API_URL}/api/user`, { withCredentials: true })\r\n      .then((response) => {\r\n        updateUser(response.data);\r\n        fetchUsers();\r\n        updateFetching(false);\r\n      })\r\n      .catch(() => {});\r\n  }, []);\r\n\r\n  //USE EFFECT FOR REDIRECTION\r\n  useEffect(() => {\r\n    if (redirection === \"signup\") {\r\n      props.history.push(\"/signup\");\r\n    } else if (redirection === \"\") {\r\n      props.history.push(\"/\");\r\n    } else if (redirection === \"timeline\") {\r\n      props.history.push(\"/timeline\");\r\n    }\r\n  }, [props.history, redirection]);\r\n\r\n  //LOGIN LOGIC AND AXIOS\r\n  const handleLogIn = (event) => {\r\n    event.preventDefault();\r\n    const { email, password } = event.target;\r\n    let newUser = {\r\n      email: email.value,\r\n      password: password.value,\r\n    };\r\n\r\n    axios\r\n      .post(`${config.API_URL}/api/login`, newUser, { withCredentials: true })\r\n      .then((response) => {\r\n        updateUser(response.data);\r\n        fetchUsers();\r\n        updateError(null);\r\n        updateRedirection(\"timeline\");\r\n      })\r\n      .catch((errObj) => {\r\n        updateError(errObj.response.data);\r\n      });\r\n  };\r\n\r\n  //SIGNUP LOGIC AND AXIOS\r\n  const handleSignUp = (event) => {\r\n    event.preventDefault();\r\n    console.log(event.target.imageUrl.files[0])\r\n    let picture = null\r\n    const { username, firstName, lastName, email, password, usertype, } = event.target;\r\n\r\n    if (event.target.imageUrl.files[0]) {\r\n      picture = event.target.imageUrl.files[0];\r\n      let formData = new FormData();\r\n      formData.append(\"imageUrl\", picture);\r\n      axios.post(`${config.API_URL}/api/upload`, formData)\r\n        .then((response) => {\r\n          return axios.post(`${config.API_URL}/api/signup`,\r\n            {\r\n              username: username.value,\r\n              firstName: firstName.value,\r\n              lastName: lastName.value,\r\n              email: email.value,\r\n              password: password.value,\r\n              usertype: usertype.value,\r\n              picture: response.data.picture,\r\n            }, { withCredentials: true })\r\n        })\r\n        .then((response) => {\r\n          updateFriend(false);\r\n          updateUser(response.data);\r\n          updateError(null);\r\n          updateRedirection(\"signup\");\r\n        })\r\n        .catch(() => {\r\n          console.log(\"SignUp failed\");\r\n        });\r\n    }\r\n    else {\r\n      picture = 'https://res.cloudinary.com/foodcafe/image/upload/v1621522073/wxwrhxypbk95guknlxt3.png'\r\n      return axios.post(`${config.API_URL}/api/signup`,\r\n        {\r\n          username: username.value,\r\n          firstName: firstName.value,\r\n          lastName: lastName.value,\r\n          email: email.value,\r\n          password: password.value,\r\n          usertype: usertype.value,\r\n          picture,\r\n        }, { withCredentials: true })\r\n      .then((response) => {\r\n        updateUser(response.data);\r\n        fetchUsers();\r\n        handleRandom()\r\n        updateRedirection(\"signup\");\r\n        updateFriend(false);\r\n        updateError(null);\r\n      })\r\n      .catch(() => {\r\n        console.log(\"SignUp failed\");\r\n      });\r\n  }};\r\n\r\n  //LOGOUT LOGIC\r\n  const handleLogout = () => {\r\n    axios\r\n      .post(`${config.API_URL}/api/logout`, {}, { withCredentials: true })\r\n      .then(() => {\r\n        console.log(\"log out successfull\");\r\n        updateRedirection(\"\");\r\n        updateUser(null);\r\n      })\r\n      .catch((errorObj) => {\r\n        updateError(errorObj);\r\n      });\r\n  };\r\n\r\n// //FACEBOOK LOGIN\r\nconst handleFacebookReponse = (data) => {\r\n\r\n\tconst {name, email, picture: {data: {url}}, userID} = data\r\n\tlet newUser = {name, email, picture: url, facebookId: userID}\r\n\r\n\taxios.post(`${config.API_URL}/api/facebook/info`, newUser , {withCredentials: true})\r\n\t\t.then((response) => {\r\n      updateError(null)\r\n      updateShowLoading(false)\r\n      updateUser(response.data.data)\r\n      updateRedirection('timeline')\r\n\t\t})\r\n}\r\n\r\n//GOOGLE AUTH\r\nconst handleGoogleSuccess= (data) => {\r\n  updateShowLoading(true)\r\n\tconst {givenName, familyName, email, imageUrl, googleId} = data.profileObj\r\n\tlet newUser = {\r\n\t\tfirstName: givenName,\r\n\t\tlastName: familyName,\r\n\t\temail,\r\n\t\tpicture: imageUrl,\r\n\t\tgoogleId\r\n\t}\r\n\r\n\taxios.post(`${config.API_URL}/api/google/info`, newUser , {withCredentials: true})\r\n\t\t.then((response) => {\r\n      updateUser(response.data.data)\r\n      updateError(null)\r\n      updateShowLoading(false)\r\n      updateRedirection('timeline')\r\n\t\t})\r\n}\r\n\r\nconst handleGoogleFailure = (error) => {\r\n  //TODO: Handle these errors yourself the way you want. Currently the state is not in use\r\n  console.log(error) \r\n  updateError(true)\r\n}\r\n  // USE EFFECT FOR RANDOM USER AND RECIPE AFTER SIGNUP\r\n  const handleRandom = () => {\r\n    axios\r\n      .get(`${config.API_URL}/api/signup`, { withCredentials: true })\r\n      .then((response) => {\r\n        updateRandomRecipe(response.data.randomRecipe);\r\n        updateRandomUser(response.data.randomUser);\r\n        updateFetching(false);\r\n      })\r\n      .catch(() => {});\r\n  };\r\n\r\n  //ADD A FRIEND AFTER SIGN UP\r\n  const handleAddAFriend = () => {\r\n    axios\r\n      .post(\r\n        `${config.API_URL}/api/addFriend/${randomUser._id}`,\r\n        {},\r\n        { withCredentials: true }\r\n      )\r\n      .then((response) => {\r\n        console.log(\"yay\", response.data);\r\n        updateFriend(true);\r\n        updateUser(response.data);\r\n      })\r\n      .catch(() => {});\r\n  };\r\n  //ADD A FRIEND ANYTIME\r\n  const handleAddAnotherFriend = (singleUser) => {\r\n    axios\r\n      .post(\r\n        `${config.API_URL}/api/addFriend/${singleUser._id}`,\r\n        {},\r\n        { withCredentials: true }\r\n      )\r\n      .then((response) => {\r\n        let updatedUser = response.data;\r\n        console.log(\"yay\", singleUser._id);\r\n        console.log(\"user\", user);\r\n        // updateFriend(true);\r\n        updateUser(updatedUser);\r\n      })\r\n      .catch(() => {});\r\n  };\r\n  //talk to a friend\r\n  const fetchUsers = () => {\r\n    axios\r\n      .get(`${config.API_URL}/api/users`, { withCredentials: true })\r\n      .then((response) => {\r\n        updateUsers(response.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"user not logged in\");\r\n      });\r\n  };\r\n\r\n  //ADD A RECIPE AFTER SIGN UP\r\n  const handleAddMyRecipe = () => {\r\n    axios\r\n      .post(\r\n        `${config.API_URL}/api/addRecipe/${randomRecipe._id}`,\r\n        {},\r\n        { withCredentials: true }\r\n      )\r\n      .then((response) => {\r\n        console.log(\"handle add recipe\", response.data);\r\n        updateRecipe(true);\r\n        updateUser(response.data);\r\n      })\r\n      .catch(() => {});\r\n  };\r\n\r\n  //SHOW ALL USERS FROM DB\r\n  useEffect(() => {\r\n    axios\r\n      .get(`${config.API_URL}/api/users`, { withCredentials: true })\r\n      .then((response) => {\r\n        updateAllUsers(response.data);\r\n        updateFetching(false);\r\n      })\r\n      .catch(() => {\r\n        console.log(\"Fetching failed\");\r\n      });\r\n  }, []);\r\n  // -----------------------------------------------****************************--------------------------\r\n  // RECIPES HANDLERS\r\n\r\n  // loading all the recipes from database\r\n  useEffect(() => {\r\n    axios\r\n      .get(`${config.API_URL}/api/recipe`, { withCredentials: true })\r\n      .then((response) => {\r\n        updateRecipes(response.data);\r\n        updateFetching(false);\r\n      })\r\n      .catch(() => {\r\n        console.log(\"Fetching failed\");\r\n      });\r\n  }, []);\r\n\r\n  //CREATE A RECIPE\r\n  let ingredientArr = [];\r\n  const handleRadio = (event) => {\r\n    let value = event;\r\n    if (typeof event.currentTarget.value === \"string\") {\r\n      event.currentTarget.value === \"true\" ? (value = true) : (value = false);\r\n    }\r\n    updateTrueFalse(value);\r\n  };\r\n  const handleAddRecipe = (e) => {\r\n    e.preventDefault();\r\n    console.log(e)\r\n    let picture = e.target.imageUrl.files[0];\r\n    let formData = new FormData();\r\n    formData.append(\"imageUrl\", picture);\r\n    axios\r\n      .post(`${config.API_URL}/api/upload`, formData)\r\n      .then((response) => {\r\n        return axios.post(`${config.API_URL}/api/recipe/add`,\r\n          {\r\n            name: e.target.name.value,\r\n            ingredients,\r\n            instructions: e.target.instructions.value,\r\n            youtube: e.target.youtube.value,\r\n            picture: response.data.picture,\r\n            description: e.target.description.value,\r\n            cookingTime: Number(e.target.cookingTime.value),\r\n            difficulty: e.target.difficulty.value,\r\n            country: e.target.country.value,\r\n            category: e.target.category.value,\r\n            vegetarian: trueFalse,\r\n            created_by: user._id,\r\n          },\r\n          { withCredentials: true }\r\n        );\r\n      })\r\n\r\n      .then((result) => {\r\n        console.log(result.data);\r\n        updateRecipes([result.data, ...recipes]);\r\n        props.history.push(\"/recipes\");\r\n\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const handleOnChange = (e) => {\r\n    e.preventDefault();\r\n    let input = e.target.value;\r\n    if (input) {\r\n      ingredientArr.push(input.split(\",\"));\r\n      updateIngredients(ingredientArr[ingredientArr.length - 1]);\r\n    }\r\n  };\r\n  // UPDATE RECIPE\r\n  const handleUpdate = () => {\r\n    console.log(recipe.difficulty);\r\n    axios\r\n      .patch(\r\n        `${config.API_URL}/api/recipe/${recipe._id}`,\r\n        {\r\n          name: recipe.name,\r\n          ingredients,\r\n          instructions: recipe.instructions,\r\n          youtube: recipe.youtube,\r\n          picture: recipe.picture,\r\n          description: recipe.description,\r\n          cookingTime: Number(recipe.cookingTime),\r\n          difficulty: recipe.difficulty,\r\n          country: recipe.country,\r\n          category: recipe.category,\r\n          vegetarian: trueFalse,\r\n          created_by: user._id,\r\n        },\r\n        { withCredentials: true }\r\n      )\r\n      .then(() => {\r\n        console.log(recipe.difficulty);\r\n        let newRecipes = recipes.map((singleRecipe) => {\r\n          if (recipe._id === singleRecipe._id) {\r\n            singleRecipe.name = recipe.name;\r\n            singleRecipe.description = recipe.description;\r\n          }\r\n          return singleRecipe;\r\n        });\r\n        updateRecipes(newRecipes);\r\n        props.history.push(`/recipe-details/${recipe._id}`);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Edit failed\", err);\r\n      });\r\n  };\r\n  //  --------------------------delete recipe\r\n  const handleDelete = (recipeId) => {\r\n    //1. Make an API call to the server side Route to delete that specific todo\r\n    axios\r\n      .delete(\r\n        `${config.API_URL}/api/recipe/${recipeId}`,\r\n        {},\r\n        { withCredentials: true }\r\n      )\r\n      .then(() => {\r\n        // 2. Once the server has successfully created a new todo, update your state that is visible to the user\r\n        console.log(\"inside then\", recipes);\r\n        let filteredRecipes = recipes.filter((recipe) => {\r\n          return recipe._id !== recipeId;\r\n        });\r\n        updateRecipes(filteredRecipes);\r\n        props.history.push(\"/recipes\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Delete failed\", err);\r\n      });\r\n  };\r\n\r\n  // -------------------------------------------------**********************------------------------------------\r\n  // -------------------------------------------------**********************------------------------------------\r\n  //LOADING SCREEN\r\n  if (fetching) {\r\n    return <p>Loading . . .</p>;\r\n  }\r\n  console.log(user)\r\n  return (\r\n    <div className=\"App\">\r\n      <NavBar\r\n        onLogout={handleLogout}\r\n        user={user}\r\n        onSignUp={handleSignUp}\r\n        error={error}\r\n        onLogIn={handleLogIn}\r\n        recipes={recipes}\r\n        facebook={handleFacebookReponse}\r\n        onGoogleSuccess={handleGoogleSuccess}\r\n        onGoogleFailure={handleGoogleFailure}\r\n      />\r\n\r\n\r\n      <Switch>\r\n        <Route\r\n          exact\r\n          path=\"/\"\r\n          render={(routeProps) => {\r\n            return <Home user={user} {...routeProps} recipes={recipes} />;\r\n          }}\r\n        />\r\n        <Route\r\n          path=\"/signup\"\r\n          render={(routeProps) => {\r\n            return (\r\n              <SignUpRandom\r\n                user={user}\r\n                {...routeProps}\r\n                onHandleFriend={handleAddAFriend}\r\n                randomUser={randomUser}\r\n                friend={friend}\r\n                updateUser={updateUser}\r\n                onHandleRecipe={handleAddMyRecipe}\r\n                recipe={recipe}\r\n                randomRecipe={randomRecipe}\r\n                fetching={fetching}\r\n                updateFetching={updateFetching}\r\n              />\r\n            );\r\n          }}\r\n        />\r\n        <Route\r\n          exact\r\n          path=\"/timeline\"\r\n          render={(routeProps) => {\r\n            return (\r\n              <Timeline\r\n                user={user}\r\n                updateUserRecipes={updateUserRecipes}\r\n                updateUser={updateUser}\r\n                recipes={recipes}\r\n                {...routeProps}\r\n                updateRecipe={updateRecipes}\r\n              />\r\n            );\r\n          }}\r\n        />\r\n        <Route\r\n          exact\r\n          path=\"/recipes\"\r\n          render={() => {\r\n            return <AllRecipes recipes={recipes} user={user} />;\r\n          }}\r\n        />\r\n        <Route\r\n          exact\r\n          path=\"/profile/:username\"\r\n          render={(routeProps) => {\r\n            return (\r\n              <Profile\r\n                user={user}\r\n                updateUser={updateUser}\r\n                recipes={recipes}\r\n                {...routeProps}\r\n                updateRecipe={updateRecipes}\r\n              />\r\n            );\r\n          }}\r\n        />\r\n        <Route\r\n          exact\r\n          path=\"/profile/:username/friends\"\r\n          render={(routeProps) => {\r\n            return (\r\n              <FriendsList\r\n                user={user}\r\n                updateUser={updateUser}\r\n                recipes={recipes}\r\n                {...routeProps}\r\n                updateRecipe={updateRecipes}\r\n              />\r\n            );\r\n          }}\r\n        />\r\n        <Route\r\n          exact\r\n          path=\"/profile/:username/recipes\"\r\n          render={(routeProps) => {\r\n            return (\r\n              <MyRecipes\r\n                user={user}\r\n                updateUser={updateUser}\r\n                recipes={recipes}\r\n                {...routeProps}\r\n                updateRecipe={updateRecipes}\r\n              />\r\n            );\r\n          }}\r\n        />\r\n        <Route\r\n          exact\r\n          path=\"/recipe-details/:recipeId\"\r\n          render={(routeProps) => {\r\n            return (\r\n              <RecipeDetails\r\n                recipes={recipes}\r\n                updateUser={updateUser}\r\n                user={user}\r\n                onDelete={handleDelete}\r\n                redirection={redirection}\r\n                updateRedirection={updateRedirection}\r\n                userRecipes={userRecipes}\r\n                updateUserRecipes={updateUserRecipes}\r\n                {...routeProps}\r\n              />\r\n            );\r\n          }}\r\n        />\r\n        <Route\r\n          exact\r\n          path=\"/edit-a-recipe/:recipeId\"\r\n          render={(routeProps) => {\r\n            return (\r\n              <EditForm\r\n                recipe={recipe}\r\n                updateRecipe={updateRecipe}\r\n                onRadio={handleRadio}\r\n                user={user}\r\n                ingredients={ingredients}\r\n                updateIngredients={updateIngredients}\r\n                onEdit={handleUpdate}\r\n                onType={handleOnChange}\r\n                sredirection={redirection}\r\n                updateRedirection={updateRedirection}\r\n                {...routeProps}\r\n              />\r\n            );\r\n          }}\r\n        />\r\n        <Route\r\n          exact\r\n          path=\"/chat/:chatId\"\r\n          render={(routeProps) => {\r\n            return <ChatPage user={user} {...routeProps} />;\r\n          }}\r\n        />\r\n        <Route\r\n          exact\r\n          path=\"/userList\"\r\n          render={(routeProps) => {\r\n            return (\r\n              <UserList\r\n                user={user}\r\n                users={users}\r\n                updateUser={updateUser}\r\n                onAddaFriend={handleAddAnotherFriend}\r\n                fetching={fetching}\r\n                updateFetching={updateFetching}\r\n                {...routeProps}\r\n              />\r\n            );\r\n          }}\r\n        />\r\n        <Route\r\n          exact\r\n          path=\"/add-a-recipe\"\r\n          render={() => {\r\n            return (\r\n              <AddForm\r\n                onRadio={handleRadio}\r\n                recipes={recipes}\r\n                onChange={handleOnChange}\r\n                onSubmit={handleAddRecipe}\r\n              />\r\n            );\r\n          }}\r\n        />\r\n        <Route component={NotFound} />\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default withRouter(App)\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n\r\n      <React.Fragment>\r\n      \r\n        <CssBaseline />\r\n        <App />\r\n      </React.Fragment>\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}